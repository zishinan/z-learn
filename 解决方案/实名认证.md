## 实名认证
### 认证级别
#### 身份证号码认证
身份证号码有特殊的规则，根据规则写校验代码。

#### 身份证号码和名字对应
去官方（全国公民身份证号码查询服务中心）申请,地址如下：
```
http://www.nciic.com.cn/framework/gongzuo/index.jsp
```
这个接口很贵，免费有10万条（未确认是身份证条数还是接口调用次数），采用webservice调用，推荐将获取到的数据缓存。

网上也有很多第三方的接口，价格便宜，调用简单，但是不免责，官方的在金融等敏感服务是可以免责的。

#### 身份证、名字、头像
头像的对比可以拿到官方数据后人工审核，阿里等数据平台也提供图片审核接口。看情况选用。

### 实现方案
- 将用户实名信息标记状态，根据验证的流程改变状态值。
> 未提交、规则认证成功、非官方认证成功、官方认证成功、认证失败、其他国籍等。

状态分类一定要考虑周全，后期对不同的状态数据可以再处理，其他国籍的人工服务手动添加。

为了减少接口调用，对校验成功的数据一定好缓存，第三方数据可以共用一个缓存，官方数据单独缓存。

- 用户提交身份证信息，通过代码校验，标记为规则认证成功。
- 在有官方接口的时候直接查官方数据，没有时考虑第三方认证接口或者不继续认证。

### 其他注意点
- 减少接口调用，业务上不需要太及时时可以异步处理，后台批量处理。
- 第三方获取到的数据和官方数据一定要分开缓存。
- 将实名认证做成单独服务，封装好认证规则和状态解析，方便各个业务调用。
